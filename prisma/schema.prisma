generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["multiSchema"]
}

datasource db {
  provider = "sqlserver"
  url      = env("DATABASE_URL")
  schemas  = ["Lookups", "Transactions"]
}

model Departments {
  Id             Int              @id(map: "PK__departme__C2232422F68430C7") @default(autoincrement())
  Name           String           @db.VarChar(200)
  IsActive       Boolean          @default(true, map: "DF__departmen__is_ac__5535A963")
  ProcedureTypes ProcedureTypes[]

  @@schema("Lookups")
}

model DoctorActivities {
  Id             Int            @id(map: "PK__doctor_a__482FBD63B24F956B") @default(autoincrement())
  DoctorId       Int
  PatientId      Int
  TypeId         Int
  CreatedOn      DateTime       @default(now(), map: "DF__doctor_ac__creat__6754599E") @db.DateTime
  ModifiedOn     DateTime?      @db.DateTime
  IsDeleted      Boolean        @default(false, map: "DF__doctor_ac__is_de__68487DD7")
  DoctorDetails  DoctorDetails  @relation(fields: [DoctorId], references: [Id], onUpdate: NoAction, map: "FK__doctor_ac__act_d__693CA210")
  PatientDetails PatientDetails @relation(fields: [PatientId], references: [Id], onUpdate: NoAction, map: "FK__doctor_ac__act_p__6A30C649")

  @@schema("Transactions")
}

model DoctorDetails {
  Id               Int                @id(map: "PK__doctors__F3993564FF6584E2") @default(autoincrement())
  DoctorName       String             @db.VarChar(200)
  MobileNumber     String             @unique(map: "IX_DoctorDetails_1") @db.VarChar(50)
  DepartmentId     Int
  IsOTPVerified    Boolean?           @default(false, map: "DF__doctors__is_otp___5AEE82B9")
  IsActive         Boolean            @default(true, map: "DF__doctors__is_acti__5BE2A6F2")
  CreatedOn        DateTime           @default(now(), map: "DF__doctors__created__5CD6CB2B") @db.DateTime
  LastModifiedOn   DateTime?          @db.DateTime
  Otp              Int?
  DoctorActivities DoctorActivities[]

  @@schema("Lookups")
}

model PatientDetails {
  Id               Int                @id(map: "PK__patients__4D5CE476F0BD1EE8") @default(autoincrement())
  PatientName      String             @db.VarChar(200)
  BedId            String?            @db.VarChar(100)
  UHID             String?            @db.VarChar(100)
  IPId             String?            @default("1", map: "DF__patients__is_act__60A75C0F") @db.VarChar(100)
  CreatedOn        DateTime           @default(now(), map: "DF__patients__create__619B8048") @db.DateTime
  ModifiedOn       DateTime?          @db.DateTime
  IsActive         Boolean            @default(true, map: "DF_patients_IsActive")
  DoctorActivities DoctorActivities[]

  @@schema("Transactions")
}

model ProcedureTypes {
  Id            Int         @id(map: "PK__procedur__8C63FCDE4EF81851") @default(autoincrement())
  DepartmentId  Int
  ProcedureName String      @default("1", map: "DF__procedure__is_ac__5812160E") @db.VarChar(200)
  IsActive      Int         @default(1, map: "DF_procedures_IsActive")
  Departments   Departments @relation(fields: [DepartmentId], references: [Id], onUpdate: NoAction, map: "FK_procedures_departments")

  @@schema("Lookups")
}
